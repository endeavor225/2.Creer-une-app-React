import { useEffect, useRef } from "react";
import "./Container.css";

export default function Container() {
    
    const newsletterRef = useRef()

    useEffect(() => {
        const observer = new IntersectionObserver(entries => {
            if(entries[0].isIntersecting) {
                newsletterRef.current.classList.add("active");
                observer.unobserve(newsletterRef.current)
            }
        })

        observer.observe(newsletterRef.current)

        return () => {
            observer.unobserve(newsletterRef.current)
        }
    },[])

    return (
        <div className="container">
        <h1>Utiliser un observateur</h1>

            <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Velit quam alias fugit, nesciunt suscipit, nemo laboriosam fugiat tenetur unde officiis delectus enim reprehenderit repellat laborum officia, impedit illo cumque. Magni ipsum omnis dolore doloribus et corporis, asperiores odio quaerat voluptas culpa recusandae repudiandae accusamus sed eveniet sequi nobis quos vitae, harum rem reiciendis fuga explicabo. Eos saepe blanditiis illo nemo, facere nulla ab aliquam. Porro omnis expedita vero non aperiam fugit et, ullam recusandae quis temporibus perferendis optio! Veritatis inventore sunt hic dolorum vitae? Reprehenderit vero dolorum sequi odit labore soluta illo. Inventore debitis, fuga molestiae omnis nihil aliquid, corrupti itaque voluptatum assumenda asperiores possimus a ducimus officia totam, beatae tempore accusamus incidunt deleniti amet magnam sunt sequi! Officia rerum, sunt, quae quaerat quisquam est sed ea, quis pariatur veniam ratione dolorem tempore? Dolores fuga quibusdam nemo sunt, nisi ab eveniet ullam commodi exercitationem assumenda voluptate harum provident aliquam deserunt expedita consectetur sapiente ducimus incidunt, soluta, impedit modi magni recusandae? Repellat officia veniam iste deleniti voluptate ut nostrum commodi optio accusamus fuga quod corporis dicta id quidem minima assumenda, ullam, eveniet obcaecati placeat rem accusantium dolorum? Maxime neque mollitia incidunt esse, aspernatur eos quasi animi soluta quam. Distinctio officia alias fugit aperiam rem deleniti a reprehenderit autem voluptatibus maxime, iusto dicta, vero, quam facere laudantium obcaecati. Quia molestias ipsa nulla adipisci nostrum sapiente eveniet fugiat ipsam illo ratione. Esse, ratione aspernatur perferendis consequuntur repellendus non expedita doloremque adipisci doloribus eum recusandae, facilis molestias magni ab praesentium quaerat quod temporibus iusto dolor accusantium atque earum! Quibusdam tempora adipisci voluptates voluptate eos doloremque deserunt aut tenetur, ullam ab placeat reiciendis? Unde veniam error adipisci quasi hic tempore, nobis, sint porro aut inventore pariatur perferendis facilis necessitatibus quibusdam dicta impedit libero enim aliquid praesentium assumenda? Nobis veniam obcaecati totam optio, esse autem exercitationem voluptatem! Officiis iusto explicabo quia neque necessitatibus, modi repudiandae autem ea beatae! Rem, doloremque! Ea fuga cum cumque dignissimos! Accusamus totam beatae id ullam iste. Harum maiores id deserunt tempora. Numquam aut illo magni magnam, perferendis beatae ea rerum obcaecati non nesciunt reiciendis iure voluptates quidem voluptatem adipisci quod nihil sit quis autem at asperiores temporibus ipsam, quaerat ad. Velit excepturi nostrum pariatur culpa! Saepe natus maiores ab incidunt officiis tempore quod. Quos, modi! Suscipit saepe reprehenderit cupiditate doloribus necessitatibus error ducimus. Beatae qui, aliquam, molestias fugiat at saepe dignissimos accusantium mollitia quos, quas nam vero sed error rem autem. Aliquam laudantium doloribus eum dolorem eveniet officiis a, rem natus sapiente non assumenda libero! Pariatur accusamus in repellat dignissimos cupiditate dolore magnam porro qui fugit tempora dicta consectetur, suscipit sed, ut ea totam. Odio, labore recusandae eius odit veritatis corporis magnam tenetur illo ipsum laborum dolorum, a exercitationem repellendus et dicta temporibus quasi omnis soluta culpa facere ex quaerat. Ad eius earum praesentium officia ex! Libero quas esse facilis, vel eos quam voluptates excepturi delectus officia, est perferendis consectetur cupiditate!</p>

            <div ref={newsletterRef} className="newsletter">
                <h2>Observed element !</h2>
            </div>

            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis pariatur saepe aspernatur aliquid officiis facilis error perspiciatis voluptas. Sapiente dicta maiores blanditiis libero harum distinctio excepturi autem, labore facilis ex fugiat, possimus reprehenderit veniam. Cum similique beatae voluptates! Fuga corporis, officiis, amet necessitatibus quam doloremque esse reprehenderit expedita, laboriosam in dolor molestias suscipit optio dolores. Impedit aliquam est quaerat aspernatur suscipit ducimus ratione id aperiam amet voluptatibus nemo hic necessitatibus ullam, mollitia error voluptatum quis veniam? Id recusandae laudantium commodi aliquam beatae facilis ipsam dolorem vero, in nihil ut dolorum doloremque quisquam velit officiis magni, voluptates veniam. Facilis impedit alias quidem nisi eaque inventore deserunt, dolorum neque eum quisquam eligendi? Impedit adipisci modi exercitationem dicta beatae possimus consectetur tenetur delectus quasi voluptatem incidunt, eveniet facere quod consequuntur accusantium error eligendi hic architecto deserunt assumenda? Distinctio numquam nostrum provident consectetur eaque consequatur reprehenderit? Nisi adipisci impedit ut optio reiciendis quibusdam commodi, esse voluptate quia sint tenetur neque alias similique totam numquam assumenda distinctio reprehenderit unde voluptatem, consectetur, temporibus dolorum magnam obcaecati. Ipsum, reiciendis ut corrupti provident velit dicta quidem repudiandae quam fugit maiores illum asperiores dolor expedita. Iure consequuntur nobis aut nam dicta quia rem illum, itaque nesciunt repellat enim amet est necessitatibus officiis placeat reprehenderit vitae omnis doloribus adipisci obcaecati, et inventore eius suscipit ut. Voluptatum doloribus amet ipsum, laborum reprehenderit, repellat tempore hic quae cumque dignissimos harum quasi molestiae cum ullam, quidem veniam. Labore neque laborum porro dolorum necessitatibus distinctio odio corporis est facilis adipisci dignissimos tempore debitis quo repellendus repudiandae ad ratione expedita, facere voluptatem enim maiores? Eligendi iure praesentium asperiores aut sequi. Odit deleniti nesciunt assumenda itaque aut vel doloribus veniam mollitia nam maxime voluptas ullam autem, sed corrupti? Aspernatur, itaque culpa facere provident nemo ratione fugiat nobis minus. Numquam asperiores neque, at blanditiis sed nihil minima quae labore, provident nulla dolore expedita excepturi aspernatur beatae accusantium obcaecati rem cupiditate voluptatem possimus officiis laudantium! Eveniet voluptatibus nesciunt tempore officia distinctio, natus tempora, consequatur fugiat perferendis quo soluta laborum alias quisquam obcaecati incidunt consectetur ipsa placeat, modi esse quaerat est nobis! Culpa tenetur quaerat quidem non consequuntur harum, inventore doloremque reiciendis aperiam, sed, accusantium officia quia eveniet ullam eum quo sunt unde omnis! Excepturi earum hic voluptatum. Autem libero quo tenetur dicta sequi quis exercitationem velit maiores voluptatem accusantium, enim nesciunt rem non porro ipsum consequatur dolore? Rerum deserunt quod praesentium corporis numquam nobis aliquid aspernatur repellat libero necessitatibus corrupti vel labore aut sed consequatur ea impedit iure porro eveniet quo, at fuga maxime est sapiente. Accusamus, error nulla quasi veritatis aspernatur similique perspiciatis quod. Fuga incidunt animi quae excepturi aperiam eum sed quos! Omnis, dignissimos necessitatibus ullam aut rerum earum laborum nostrum fugiat iste deleniti ex aspernatur, doloremque in inventore numquam, sit quo. Animi, qui quibusdam dolorem nisi ducimus illum? Quia aspernatur molestiae odit nisi numquam minima nam id voluptas, omnis mollitia assumenda eos! Accusamus, sunt dignissimos voluptatem, quaerat voluptas aliquid corrupti corporis est tenetur cum cumque odio beatae saepe asperiores quibusdam nesciunt voluptatibus quidem pariatur temporibus esse, rerum quis! Beatae ab natus, fugit, doloribus iste velit laborum quibusdam cupiditate distinctio eligendi at vero aspernatur magnam ipsam praesentium quod illum quo ad molestiae? Et eligendi id libero? Voluptas excepturi explicabo dolor perferendis quam nihil voluptatum nobis. Veritatis distinctio minima aperiam voluptates. Doloremque inventore dolorum, expedita harum alias similique delectus ducimus qui, maxime incidunt ea amet in, mollitia ex aperiam architecto. Nihil, cumque voluptate nesciunt blanditiis error consequatur optio rem animi adipisci beatae expedita. Soluta quibusdam modi cum voluptate voluptates ipsa aperiam saepe reprehenderit? Sint repellendus molestiae soluta a. Et, reprehenderit, incidunt maxime cupiditate, placeat omnis minima error iste suscipit similique vitae deleniti architecto laborum. Repellat hic, quis eos quia perferendis aperiam suscipit facilis cum architecto, laborum vel consequuntur a, debitis nostrum explicabo corporis! Doloremque praesentium cupiditate ducimus accusantium, doloribus dolore nesciunt optio alias corrupti debitis reiciendis ratione non quos laborum itaque maxime quasi consequuntur in dignissimos laudantium rerum. Iste atque beatae laboriosam, vitae esse doloremque architecto non, nesciunt tenetur quas similique veritatis sint quisquam. Ut, sit consequatur laboriosam inventore quam debitis vel ratione voluptates reiciendis. Veritatis quas deserunt magnam unde, beatae doloribus eaque voluptate laborum quaerat corrupti culpa voluptates labore corporis totam cumque. Corporis beatae veritatis porro modi, earum delectus blanditiis cumque dolorem animi quisquam qui totam, id culpa odit eius natus. Iusto, praesentium rem, nostrum quam vitae error et nulla, exercitationem dicta laborum obcaecati! Nihil, molestias ad repudiandae odio veritatis amet, fuga aspernatur nemo sequi alias sunt ducimus soluta, iusto neque asperiores corporis deleniti quas! Nobis, atque accusantium saepe architecto omnis incidunt praesentium ad temporibus nisi voluptatibus maxime rem laboriosam sapiente tempore fuga aliquam aperiam aspernatur repellendus nam, repellat hic officia. Ut iusto, cum debitis est unde accusantium aliquid id esse sequi nesciunt aperiam sapiente suscipit consequatur cumque velit minus iure repudiandae numquam sunt fugit necessitatibus, quia deleniti tempore nulla? Reprehenderit, nobis. Porro repudiandae perferendis sint suscipit necessitatibus reiciendis magni repellendus voluptatum optio. Rerum sint aut accusamus temporibus dicta delectus? Doloribus earum repudiandae reprehenderit alias voluptatem temporibus possimus laudantium velit quibusdam. A facere voluptatum minus pariatur maxime consequuntur provident quia quibusdam temporibus cum cumque, quis, architecto sed et quos soluta libero eos rerum. Consectetur, fuga in repellendus atque debitis culpa placeat id maiores rerum! Consequatur amet voluptas nostrum ab, ipsa itaque accusantium dignissimos porro? Saepe quia impedit obcaecati, quis molestiae sunt officiis excepturi voluptate! Officia possimus, atque assumenda tenetur, recusandae, autem qui numquam quidem reiciendis nihil aliquam praesentium animi. Veritatis beatae fuga dolore iste sint minima debitis. Fuga earum sed illo quam error quae? Aliquid, error accusamus. Sit aliquid cumque repellendus animi fugiat asperiores vel ullam saepe soluta rerum dignissimos deleniti autem, sint harum dolore eos illo, molestiae, labore accusamus! Blanditiis sunt explicabo earum voluptas, ullam architecto nobis qui deserunt hic ea laudantium illo voluptate corrupti deleniti vitae minus velit aliquam saepe dolorem animi pariatur! Unde dolores molestias distinctio reprehenderit quo, maiores quisquam sit tenetur magni repellendus ea ipsum nihil cupiditate! Nostrum molestias rem facilis dignissimos vero possimus tempore, laudantium, similique atque eveniet voluptates sequi suscipit!</p>
        </div>
    );
}

